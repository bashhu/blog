{% extends "esweb/base.html" %}
{% block content %}

    <h2>Elasticsearch 节点列表
        <span class="small pull-right">
            <form method="get">
            <input class="form-control" type="search" name="search" placeholder="搜索命令" />
            </form>
        </span>
    </h2>
     <table class="table table-striped">
         <!--列名-->
          <thead>
            <tr>
              <th>集群名称</th>
              <th>主机名</th>
              <th>ip:port</th>
            </tr>
          </thead>
         <!--任务列表-->
          <tbody>
            <tr>
            <form action="" method="post">
              <th scope="row"><a href="">{{es.project}}</a></th>
                <td><a href="{% url 'esweb:indexs_list' %}">{{es.hostname}}</a></td>
                <td><a href="">{{es.ip}}:{{es.port}}</a></td>
            </form>
            </tr>
          </tbody>
    </table>

 <!--集群状态表-->
 <table class="table  table-striped table-bordered table-hover" style="width:30%">
   <thead>
     <tr><!--列名-->
          <th>参数</th>
          <th>值</th>
     </tr>
   </thead>
   <tbody>
 <!--分片列表-->
          <tr>
           <td><B>集群名称</B></td>
           <td><p>{{ cluster.cluster_name }}</p></td>
         </tr>
         <tr>
             <td><B>集群状态</br>(green=健康| yellow=部分分片异常| red=不健康)</B></td>
           <td><p>{{ cluster.status }}</p></td>
         </tr>
         <tr>
           <td><B>集群节点数</B></td>
           <td><p>{{ cluster.number_of_nodes }}</p></td>
         </tr>
         <tr>
            <td><B>分片可用率</B></td>
            <td><p>{{ cluster.active_shards_percent_as_number }}</p></td>
         </tr>
          <tr>
            <td><B>集群分片数(unassigned shards/active shards)</B></td>
            <td><p>{{ cluster.unassigned_shards }}/{{ cluster.active_shards }}</p></td>
          </tr>
          <tr>
            <td><B>初始化中分片</B></td>
            <td><p>{{ cluster.initializing_shards }}</p></td>
         </tr>
          <tr>
            <td><B>任务队列最大等待(单位：毫秒)</B></td>
            <td><p>{{ cluster.task_max_waiting_in_queue_millis }}</p></td>
          </tr>
          <tr>
            <td><B>等待任务数</B></td>
            <td><p>{{ cluster.number_of_pending_tasks }}</p></td>
          </tr>
   </tbody>
 </table>
{% endblock %}